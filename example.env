# ==============================================
# API CONFIGURATION
# ==============================================

# API root path prefix (e.g., "/test" or "" for root)
# If empty or not set, the API will be available at the root path
# This is useful when deploying the API behind a reverse proxy at a subpath
ROOT_PATH=

# ==============================================
# ORGANIZATION
# ==============================================

ORGANIZATION="ORGANIZATION-DEMO"
EP_NAME="EP-DEMO"

# ==============================================
# METRICS CONFIGURATION
# ==============================================

# Interval in seconds for sending metrics (default: 3300 seconds = 55 minutes)
METRICS_INTERVAL_SECONDS=3300

# ==============================================
# ACCESS CONTROL (Optional)
# ==============================================

# Enable organization-based access control (True/False)
# When enabled, only users belonging to the configured ORGANIZATION
# can perform POST, PUT, DELETE operations. Other authenticated users
# will receive 403 Forbidden on write operations.
# GET endpoints remain public regardless of this setting.
ENABLE_ORGANIZATION_BASED_ACCESS=False

# ==============================================
# LOCAL CATALOG CONFIGURATION
# ==============================================

# Backend for local catalog: "ckan" or "mongodb"
# Global and Pre-CKAN always use CKAN regardless of this setting
LOCAL_CATALOG_BACKEND=mongodb

# ==============================================
# LOCAL CATALOG CONFIGURATION
# ==============================================

# Enable or disable local catalog operations (True/False)
# IMPORTANT: This setting controls access to registration routes (POST/PUT/DELETE)
# for ANY local catalog backend (CKAN or MongoDB).
#
# Set to True to enable:
# - Creating organizations, datasets, resources
# - Updating and deleting catalog entries
# - All write operations to the local catalog
#
# Set to False for read-only access to the local catalog.
#
# Note: The variable name contains "CKAN" for historical reasons, but it applies
# to all local catalog backends (CKAN, MongoDB, etc.)
CKAN_LOCAL_ENABLED=True

# ==============================================
# CKAN-SPECIFIC CONFIGURATION (only if LOCAL_CATALOG_BACKEND=ckan)
# ==============================================

# Base URL of your local CKAN instance (Required only for CKAN backend)
CKAN_URL=

# API Key for CKAN authentication (Required only for CKAN backend)
CKAN_API_KEY=

# ==============================================
# MongoDB Configuration (if LOCAL_CATALOG_BACKEND=mongodb)
# ==============================================

# MongoDB connection string
# For Docker Compose: use service name 'mongodb'
# For local development: use 'localhost'
MONGODB_CONNECTION_STRING=mongodb://admin:admin123@mongodb:27017

# MongoDB database name for local catalog
MONGODB_DATABASE=ndp_local_catalog

# ==============================================
# Pre-CKAN Configuration
# ==============================================

# Enable or disable the Pre-CKAN instance (True/False)
PRE_CKAN_ENABLED=False

# URL of the Pre-CKAN instance (Optional)
PRE_CKAN_URL=

# API key for Pre-CKAN authentication (Optional)
PRE_CKAN_API_KEY=

# ==============================================
# Streaming Configuration
# ==============================================

# Enable or disable Kafka connectivity (True/False)
KAFKA_CONNECTION=True

# Kafka broker hostname or IP address
# For Docker Compose: use service name 'kafka'
# For local development: use 'localhost'
KAFKA_HOST=kafka

# Kafka broker port number
# For internal Docker network: use 9093
# For external access: use 9092
KAFKA_PORT=9093

# ==============================================
# Test Token Credentials
# ==============================================

# Leave blank in production (Optional)
TEST_TOKEN=testing_token

# ==============================================
# Authentication Configuration
# ==============================================

# URL for the authentication API to retrieve user information
# This endpoint is used to validate tokens and fetch user details
AUTH_API_URL=https://idp.nationaldataplatform.org/temp/information

# ==============================================
# External Service Integrations
# ==============================================

# Enable or disable JupyterLab integration (True/False)
USE_JUPYTERLAB=True

# URL to your JupyterLab instance
# For Docker Compose: use service name 'jupyterlab'
# For local development: use 'localhost'
JUPYTER_URL=http://jupyterlab:8888

# ==============================================
# S3 Storage Configuration
# ==============================================

# Enable or disable S3 storage (True/False)
S3_ENABLED=True

# S3 endpoint (host:port) - use your S3-compatible service endpoint
# For Docker Compose: use service name 'minio'
# For local development: use 'localhost'
S3_ENDPOINT=minio:9000

# S3 access credentials
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin123

# Use secure connection (True for HTTPS, False for HTTP)
S3_SECURE=False

# Default region
S3_REGION=us-east-1

# ==============================================
# Rexec Provisioning Configuration
# ==============================================

# Path to the kubeconfig on the host (used for local execution)
REXEC_KUBECONFIG_LOCAL_PATH=

# Path to the kubeconfig inside the container (should match the bind mount)
REXEC_KUBECONFIG_MOUNT_PATH=/code/env_variables/.kubeconfig

# Prefix applied to namespaces created for Rexec users
REXEC_NAMESPACE_PREFIX=rexec-server-

# Service discovery values for the Rexec broker running in the cluster
REXEC_BROKER_SERVICE_NAME=rexec-broker-internal-ip
REXEC_BROKER_NAMESPACE=rexec-broker
REXEC_BROKER_PORT=5560
